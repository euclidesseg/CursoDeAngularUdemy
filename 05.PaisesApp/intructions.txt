====== En esta Ocasion vamos a trabajar con una aplicacion llamada PaisesApp =====


Para trabajar con esta app y esta seccion se ha creado una rama diferente llamada section8SPA
==============================================================================================


---- Estaremos trabajando con una api consumiendo diferentes enpoints
---- Buscaremos por pais por capital y por region desde esta pagina https://restcountries.com/

---- Vamos a trabar en base a modulos con la siguiente estructura

---- Shared = componentes reutilizables
     ____nadvar
     ____sidebar
     ____footer

---- Componenentes 
---- Interfaces 
---- Services
---- Pages 
     ____indican que es un contenedor principal 
     ____van a cambiar segun la url en que nos encontremos
     ____no son mas que componentes tambien


====== Creando modulos y componentes ========
---- creamos los modulos de shared y pais
---- creamos el componente para shared el cual se declara en el respectivo modulo

====== Crearemos las paginas en pages que son componentes
---- creamos buscar por region
---- creamos buscar por pais
---- creamos buscar por capital
---- creamor otra para ver la informacion del pais

---- Ahora veamos que componentes vamosa exportar fuera de nuestros modulos


====== estructura html del componente sidebar =====


======= ROUTER MODULE ========
---- Ya que tenemos una pagina para buscar por pais,
---- Una pagina para buscar por region,y otra para buscar por capital,
---- Ne cesitamos declarar rutar principales para acceder a ellas cuando se precione un boton de opciones
---- en el sidebar para eso primero creamos un archvo routing module que sera nuestro modulo 
---- principal de rutas 

---- En ese archivo de rutas creamos la estructura basica de un modulo creamos una constante 
---- llamada routes de tipo Routes la cual sera un arreglo que contendra cada una de las rutas de 
---- la app
---- Despues de crear el arreglo que incluye las rutas de nuestra app debemos agregar en las importqaciones 
---- de ese modulo al RouterModule

---- Luego de configurar modulo dentro de nuestro modulo principal de App
---- lo importamos en nuestro componente principal app.module

---- Ahoara para cambiar desde el sidebar dependiendo de la pagina en la que se encuentre
---- en el html agregamos <router-otlet></router-otlet>
---- Paara ello en nuesto modulo de shared devemos importar el approuting-module

====== ROUTER LINK =======
---- En esta ocacion vamos a hacer que nuestro menu lateral funcione para poder navegar a otras pantallas
---- para agregar link a nuestros botones de navegacion usamos routerlink que nos ofrese el RouterModule
---- EJ: <li routerLink="capital" class="list-group-item sidebarLink">Buscar capital</li>
---- capital es el nombre de la ruta y recordemos que ya esa ruta tiene asociado un componente

---- par indicar que una ruta esta activa ponemos otra caracteristica que nos importa RouterModule
---- routerLinkActive="active" endica cuando una ruta esta activa
---- pero la ruta princial siempre estara activa po lo que definimos en al routing module 
---- para eso agregamos otro atributo

====== Component Buscar Por pais ========
---- para este componente creamos el formulario deonde ingresaremos el nombre del pais a buscar
---- debajoun aviso que informe si se encontro el pais y la tabla que mostrara el contenido del pais
---- vamos a usar el formModule para enviar el formulario por loq ue debemos importar este modulo en nuestro
---- PaisdModule y este modulo nos permite usar la sintaxis bananaInBox de ngModel

---- Para manejar el posteo del formulario cuandoo el usuario precione enter 
---- lo hacemos con el ngSubmmit desde el formaulario


====== Servicio Para Buscar Paises ====== 
---- En nuestro modulo agregamos la carpeta service para el servicio
---- este servicio al estar en nuestro modulo esta como global para todos los componentes de nuestro
---- modulo

---- creamos el servicio y luego de eso usamos el Http para mandar la peticion,
---- recordemos que para usar ese servicio debemos importar el htttpClientModule e nuestro modulo
---- y en nuestro componente

======= Manejo de errores ===========
---- Cuando se manda una peticion a ese enpoint y el dato enviado no existe el backend va a reponder
---- con un 404 que indica que indica que no se enconstro el recurso solicitado no es un error del front
---- simplemente es la respuesta que nos manda el backend

---- Ahoara lo aprenderemos a manejar desde el front para heso lo haremos justamente al momento
---- del subscribe ya que es ahi cuando mandamos el parametro para resibir la respuesta 
---- y tambien es ahi cuando podemos mandar el parametro para recibir un error par esto establecemos 
---- una bander la cual era booleana que cambiara a true dentro de la funcion error mandada 
---- como parametro como sabemos la funcion error se ejecutara solo si la peticion manda error
---- .subscribe({
        next: (respuesta) => { console.log(respuesta) },
        error: (error) => { this.hayError = true; console.log(error) }
        // desde la version 8 rxjs permite mandar las funciones del parametro envueltas en un 
        // objeto
      })


=========== Tipado de nuestra peticion =============
---- Para trabajar con el tipado convertimos la respuesta a la peticion en una interfaz desde la 
---- web https://app.quicktype.io

---- En la pagina marcamos la respuesta en el lenguaje y verificamos el json
---- copiamos la interfaz, creamos un archivo en nuestra carpeta de Interfaces y pegamos hi todo 
---- el contenido de nuestra de la pagina


====== Llenar nuestra tabla de paises ======
---- Para llenar esta tabla lo haremos como tarea asi que lo primero que hare sera 
---- crearme una propiedad llamada paises en donde  voy a almacenar el arreglo 
---- que me retorna la respuesta seguido de eso en la tabla voy a recorrer ese arreglo y pintare
---- las tablas con los objetos que voy recorriendo en el trmplate


============== Componnete input y Tabla ============
---- En esta casa vamos a optimizar nuestro codigo, la funcionalidad sera que el input y la tabla 
---- que tenemos en el componente buscar por pais tambien sea el mismo que se muestre en el componente
---- por region y por pais esta tambien sera una tarea para la cual esta vez vamos a hacer uso de nuestra
---- carpeta de componente en donde crearemos un componente llamado pais pais-tabla
---- dentro de ese componente vamos a poner el html que corresponde a la tabla de paises
---- que se encuentra en el componente buscar por pais.

---- debido a que tambien vamos a reutilizar el inpupt en otros componentes como buscar por capital y por region
---- lo vamos a pasar a un componente aparte llamado input-component